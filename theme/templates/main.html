{% extends 'base.html' %}
{% load static %}

{% block meta %}
<!-- TODO: meta tags for main page -->
{% endblock %}

{% block title %}
Главная
{% endblock %}

{% block content %}
<div class="w-3/4 h-full gap-8 flex flex-col">

    <div class="swiper mySwiper">
        <div class="swiper-wrapper">
            {% for banner in banners %}
            <div class="swiper-slide">
            <div class="flex flex-col w-full relative overflow-hidden rounded-md">
                <div class="w-full h-[388px] overflow-hidden flex justify-center items-center">
                    <img src="{{ banner.image.url }}" alt="">
                </div>
                <div class="bg-leader-pale flex justify-between p-4 w-full">
                    <div class="flex flex-col gap-2">
                        <h1 class="title text-left">{{ banner.title }}</h1>
                        <p class="text-sm text-gray-600">
                            {{ banner.description }}
                        </p>
                    </div>
                    <div class="flex items-center justify-center pr-12">
                        <a href="{{ banner.button_link }}" class="i-button">{{ banner.button_text }}</a>
                    </div>
                </div>
            </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <div class="flex gap-2 flex-wrap">
        {% for category in categories_parent %}
        <a href="{% url URLNames.CATALOG_PAGE category.slug %}" class="no-link flex flex-col items-center w-[24.4%] cursor-pointer group">
            <div class="image-container w-full h-[252px]">
                <img src="{{ category.image.url }}" class="transition-all group-hover:scale-[1.05]" alt="">
            </div>
            <p class="py-2">{{ category.name }}</p>
        </a>
        {% endfor %}
    </div>

    <div class="flex flex-col">
        <h1 class="title mb-4">Хиты</h1>
        {% include "components/_product_grid.html" with products=featured_products.products.all %}
    </div>

    <div class="flex flex-col">
        <h1 class="title mb-4">О нас</h1>
        <div class="flex gap-4">
            <div style="flex: 1 1 45%;" class="overflow-hidden rounded-lg">
                <iframe width="100%" height="315" src="https://www.youtube.com/embed/dWVYlLKBsLM" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
            <div style="flex: 1 1 45%;" class="overflow-hidden rounded-lg">
                <iframe width="100%" height="315" src="https://www.youtube.com/embed/JiEKN_GhwZk?si=5_S1qBRoQICvx0wz" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>
        </div>
    </div>
</div>

<script>
    let swiper = new Swiper(".mySwiper", {
        autoplay: {
            delay: 3000,
        },
    });
</script>
{% endblock %}